<!-- <div class="container">
  <div class="card text-center bg-white">
      <div class="card-header">
          Calendar
      </div>
    <div class="card-body">
      <form [formGroup]="calendarformForm" (ngSubmit)="onSubmit()">
        <div class="container">
          <div class="row">
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="summary">Summary</mat-label>
                <input matInput type="text" formControlName="summary"
                  [ngClass]="{ 'is-invalid': submitted && f.summary.errors }" />
                <div *ngIf="submitted && f.summary.errors" class="invalid-feedback">
                  <div *ngIf="f.summary.errors.required">Summary is required</div>
                </div>
              </mat-form-field>
            </div>
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="location">Location</mat-label>
                <input matInput type="text" formControlName="location"
                  [ngClass]="{ 'is-invalid': submitted && f.location.errors }" />
                <div *ngIf="submitted && f.location.errors" class="invalid-feedback">
                  <div *ngIf="f.location.errors.required">Locatio is required</div>
                </div>
              </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="outline">
                  <mat-label for="description">Description</mat-label>
                  <input matInput type="text" formControlName="description"
                    [ngClass]="{ 'is-invalid': submitted && f.description.errors }" />
                  <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
                    <div *ngIf="f.description.errors.required">Description is required</div>
                  </div>
                </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="timeZone">Timezone</mat-label>
                <input readonly matInput type="text" formControlName="timeZone"
                  [ngClass]="{ 'is-invalid': submitted && f.timeZone.errors }" />
                <div *ngIf="submitted && f.timeZone.errors" class="invalid-feedback">
                  <div *ngIf="f.timeZone.errors.required">TimeZone is required</div>
                </div>
              </mat-form-field>
            </div>
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="start">Start Date</mat-label>
                <input matInput type="datetime-local" formControlName="start"
                  [ngClass]="{ 'is-invalid': submitted && f.start.errors }" />
                <div *ngIf="submitted && f.start.errors" class="invalid-feedback">
                  <div *ngIf="f.start.errors.required">Start Date is Required</div>
                </div>
              </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="outline">
                  <mat-label for="description">End Date</mat-label>
                  <input matInput type="datetime-local" formControlName="end"
                    [ngClass]="{ 'is-invalid': submitted && f.end.errors }" />
                  <div *ngIf="submitted && f.end.errors" class="invalid-feedback">
                    <div *ngIf="f.end.errors.required">End Date is required</div>
                  </div>
                </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="recurrence">Recurrence</mat-label>
                <mat-select id="recurrence" formControlName="recurrence">
                    <mat-option value="None">None</mat-option>
                    <mat-option value="DAILY">DAILY</mat-option>
                    <mat-option value="WEEKLY">WEEKLY</mat-option>
                    <mat-option value="MONTHLY">MONTHLY</mat-option>
                </mat-select>
                <div *ngIf="submitted && f.recurrence.errors" class="invalid-feedback">
                  <div *ngIf="f.recurrence.errors.required">Recurrence is required</div>
                </div>
              </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="outline">
                  <mat-label for="count">Frequency</mat-label>
                  <mat-select id="count" formControlName="count">
                    <mat-option value="1">1</mat-option>
                    <mat-option value="2">2</mat-option>
                    <mat-option value="3">3</mat-option>
                    <mat-option value="4">4</mat-option>
                  </mat-select>
                  <div *ngIf="submitted && f.count.errors" class="invalid-feedback">
                    <div *ngIf="f.count.errors.required">Locatio is required</div>
                  </div>
                </mat-form-field>
              </div>
            <div class="col">
              <mat-form-field appearance="outline">
                <mat-label for="attendees">Location</mat-label>
                <mat-select id="attendees" formControlName="attendees">
                    <mat-option>None</mat-option>
                    <mat-option *ngFor="let user of users" [value]="user.email">
                      {{user.email}}
                    </mat-option>
                </mat-select>
                <div *ngIf="submitted && f.attendees.errors" class="invalid-feedback">
                  <div *ngIf="f.attendees.errors.required">Locatio is required</div>
                </div>
              </mat-form-field>
            </div>
          </div>
          <button mat-raised-button color="warn" >
              Submit
          </button>
        </div>
      </form>
    </div>
  </div>

  <div>
    <mat-accordion class="example-headers-align" multi>
        <mat-expansion-panel *ngFor="let course of courses?.items">
          <mat-expansion-panel-header>
            <mat-panel-title>
                {{ course.summary }}
            </mat-panel-title>
            <mat-panel-description>
                {{ course.description }}      
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-nav-list>
            <mat-list-item>
               <div>GMeet</div>
               <a matLine target="_blank" href="{{course.hangoutLink}}">{{ course.hangoutLink }}</a>
            </mat-list-item>
            <mat-list-item>
                <span>StartDate:</span>
                <span>{{ course.start.dateTime | date}}</span>
            </mat-list-item>
            <mat-list-item>
                <span>EndDate:</span>
                <span>{{ course.end.dateTime | date}}</span>
            </mat-list-item>          
        </mat-nav-list>
          </mat-expansion-panel>
    </mat-accordion>
  </div>

</div> -->

<div class="card">
  <div class="card-header">
    <div class="d-flex">
      <span class="p-2">Show Only:</span>
      <mat-chip-list>
        <mat-chip selected (click)="changeAllSelected($event)" [ngClass]="{'matchip-active' : allChecked}">
          All
        </mat-chip>
        <mat-chip *ngFor="let action of filterActions" selected (click)="changeSelected($event, action)"
          [ngClass]="{'matchip-active' : action.checked}">
          {{action.name}}
        </mat-chip>
      </mat-chip-list>
      <div class="ml-auto w-25">
        <mat-form-field appearance="fill">
          <mat-label for="demoDate">{{selectedDate | date: 'EEEE'}}</mat-label>
          <input matInput id="demoDate" [value]='selectedDate' (dateChange)="addEvent($event)" [matDatepicker]="picker">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-8">
        <div class="row text-center">
          <div class="col-md-4">
            <div class="btn-group">
              <div class="btn btn-primary" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()">
                Previous
              </div>
              <div class="btn btn-outline-secondary" mwlCalendarToday [(viewDate)]="viewDate">
                Today
              </div>
              <div class="btn btn-primary" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()">
                Next
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
          </div>
          <div class="col-md-4">
            <div class="btn-group">
              <div class="btn btn-primary" (click)="setView(CalendarView.Month)"
                [class.active]="view === CalendarView.Month">
                Month
              </div>
              <div class="btn btn-primary" (click)="setView(CalendarView.Week)"
                [class.active]="view === CalendarView.Week">
                Week
              </div>
              <div class="btn btn-primary" (click)="setView(CalendarView.Day)"
                [class.active]="view === CalendarView.Day">
                Day
              </div>
            </div>
            <!-- <mat-button-toggle-group [appearance]="'legacy'" [(value)] ="selectedView" #group="matButtonToggleGroup"  name="fontStyle" aria-label="Font Style">
        <mat-button-toggle  value="0">Month</mat-button-toggle>
        <mat-button-toggle value="1">Day</mat-button-toggle>
        <mat-button-toggle value="2">Week</mat-button-toggle>
      </mat-button-toggle-group> -->

          </div>
        </div>
        <br />
        <div [ngSwitch]="view">
          <mwl-calendar-month-view *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate" [events]="events"
            [refresh]="refresh" [activeDayIsOpen]="activeDayIsOpen" (dayClicked)="dayClicked($event.day)"
            (eventClicked)="handleEvent('Clicked', $event.event)" (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-month-view>
          <mwl-calendar-week-view *ngSwitchCase="CalendarView.Week" [viewDate]="viewDate" [events]="events"
            [refresh]="refresh" (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-week-view>
          <mwl-calendar-day-view *ngSwitchCase="CalendarView.Day" [viewDate]="viewDate" [events]="events"
            [refresh]="refresh" (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-day-view>
        </div>
      </div>
      <div class="col-md-4">
        <div class="row">
          <div class="col">
            <h2 class="meetings">
              Meetings <div *ngIf="courses?.length > 0">{{courses?.length}}</div>
            </h2>
          </div>
          <div class="col text-right">
               <mat-slide-toggle [ngModel]="isChecked" (change)="changedFilter($event)">Today Only</mat-slide-toggle>
          </div>
        </div>
        <div class="course-height">
          <ng-container *ngFor="let course of courses">
            <!-- <mat-card-header *ngIf="course.startDate !== getToday()">
              {{course.startDate | date}}
            </mat-card-header>     -->
            <mat-card class="m-2 card-left" [ngClass]="{'card-left-demo': !course.isDemo}">     
              <mat-card-content>
                <div class="row">
                  <div class="col-10">
                    <mat-card-title class="side-header">{{course.title}}</mat-card-title>
                  </div>
                  <div class="col-2 text-right">
                    <mat-card-subtitle>
                      <span [ngSwitch]="course?.enrollments?.length > 1">
                        <p *ngSwitchCase="true">
                          <img src="assets/bitmap.svg">
                        </p>
                        <p *ngSwitchCase="false">
                          <img src="assets/bitmap.svg">
                        </p>
                        <p *ngSwitchDefault>
                        </p>
                      </span>
                    </mat-card-subtitle>
                  </div>
                </div>
                <p class="card-text">
                  {{course.startDate | date:'hh:mm a'}} - {{course.endDate | date:'hh:mm a'}}
                </p>
                <div class="card-text d-flex">
                  <ng-container *ngFor="let profimg of course.enrollments">
                    <img class="list-img" [src]="profimg.student?.profilePic ? profimg.student?.profilePic : 'assets/profile-pic.svg'">
                  </ng-container>
                </div>
  
              </mat-card-content>
            </mat-card>
          </ng-container>
        </div>

      </div>
    </div>

  </div>

</div>
